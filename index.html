<html>
<head>
	<title>Test iFrame</title>
	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
	<script type="text/javascript">
		$.when( $.ready ).then(function() {
		  $('#trigger').click(ct_event);
		  $('#trigger_airport').click(cttransnoavail_event)
		});

		function cttransnoavail_event() {
			// var frames = window.parent.frames; //var frames = window.frames; 
			// frames

			parent.postMessage('cttransnoavail', '*'); 
			var formattedDate = moment().format("dddd, MMMM Do YYYY, h:mm:ss a");
			$('#notify').append("<li>" + formattedDate + ": I've sent an event.</li>");
		}
		
		function ct_event() {
			// var frames = window.parent.frames; //var frames = window.frames; 
			// frames

			parent.postMessage('ctnoavail', '*'); 
			var formattedDate = moment().format("dddd, MMMM Do YYYY, h:mm:ss a");
			$('#notify').append("<li>" + formattedDate + ": I've sent an event.</li>");
		}
	</script>
	<style type="text/css">
		body {
			background-color: gray;
		}
	</style>
</head>
<body>

	<h1>iFrame</h1>
	<p>Everything inside this black box is rendered by the iFrame.  Everything else is rendered by the parent page.</p>
	<button id="trigger">Trigger ctnoavail event</button>
	<button id="trigger_airport">Trigger cttransnoavail event</button>
	<ul id="notify">
	</ul>
</body>
</html>
